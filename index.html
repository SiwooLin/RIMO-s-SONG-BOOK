<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RIMO's SONG BOOK</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
    body {
      background: #1f1f1f;
      color: #f0f0f0;
      font-family: 'Jua', sans-serif;
      text-align: center;
      margin: 30px auto;
      max-width: 900px;
    }
    h1 {
      color: #ff4c00;
      font-size: 4.6rem;
      margin-bottom: 20px;
      cursor: pointer;
      font-weight: bold;
    }
    .important-notice {
      background: #c8baff; /* ì—°í•œ ë³´ë¼ */
      color: #3f2e70;
      padding: 14px 20px;
      border-radius: 8px;
      font-weight: bold;
      margin: 30px auto 25px;
      max-width: 860px;
    }
    .search-box {
      max-width: 600px;
      margin: 0 auto 50px;
    }
    #search {
      width: 100%;
      padding: 11px 20px;
      font-size: 16px;
      border: none;
      border-radius: 25px;
      text-align: center;
      font-family: 'Jua', sans-serif;
      outline: none;
    }
    #search::placeholder {
      text-align: center;
      color: #a798bb;
    }
    .btn-pill, .btn-circle {
      font-family: 'Jua', sans-serif;
      color: white;
      border: none;
      cursor: pointer;
      user-select: none;
      transition: filter 0.2s;
      height: 42px;
      line-height: 42px;
      font-size: 16px;
      box-sizing: border-box;
      margin: 5px 6px;
    }
    .btn-pill {
      padding: 0 28px;
      border-radius: 9999px;
      background-color: #ffaf5a; /* ì—°í•œ ì£¼í™© */
      min-width: 80px;
    }
    .btn-pill:hover {
      filter: brightness(0.85);
    }
    .btn-circle {
      width: 42px;
      border-radius: 50%;
      background-color: #ff7a00; /* ì£¼í™© ì§„í•œ */
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin: 5px 4px;
      font-weight: bold;
    }
    .btn-circle:hover {
      filter: brightness(0.85);
    }
    .btn-doc {
      background: #8c76e0; /* ë…¸ë˜ì±… ì„¤ëª…ì„œ/ê°€ê²©í‘œ ë°°ê²½ ë³´ë¼ */
      min-width: 110px;
      font-weight: bold;
    }
    .btn-genre {
      background: #ff7a00; /* Kpop ìƒ‰ ì§„í•œ ì£¼í™© */
      font-weight: bold;
      min-width: 100px;
    }
    .button-row {
      margin-bottom: 20px;
      max-width: 860px;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
    }
    .doc-section {
      background: #8c76e0;
      color: #f3ecff;
      padding: 20px 25px;
      border-radius: 12px;
      margin: 40px auto 50px;
      max-width: 860px;
      text-align: left;
      line-height: 1.7;
      font-weight: 600;
      font-size: 16px;
    }
    .section-title {
      font-size: 2rem;
      margin-bottom: 18px;
      color: #ff7a00;
      text-align: center;
      font-weight: 700;
    }
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin-bottom: 50px;
      font-size: 16px;
      max-width: 860px;
      margin-left: auto;
      margin-right: auto;
    }
    thead tr {
      background: #ff7a00; /* í—¤ë” ë°°ê²½: Kpop ìƒ‰ìƒ ì£¼í™© */
    }
    thead th {
      padding: 14px 8px;
      color: #fff;
      border-bottom: 3px solid #ff7a00;
      border-right: 2px dotted #ff7a00;
      text-align: center;
      font-weight: 700;
      font-size: 17px;
    }
    thead th:last-child {
      border-right: none;
    }
    tbody tr:nth-child(even) {
      background: #2b2b2b;
    }
    tbody tr:nth-child(odd) {
      background: #1f1f1f;
    }
    tbody td {
      padding: 12px 10px;
      text-align: center;
      border-right: 2px dotted #ff7a00;
      font-weight: 600;
    }
    tbody td:last-child {
      border-right: none;
    }
    #searchResultsMessage {
      color: #c8baff; /* ì—°í•œ ë³´ë¼ */
      font-weight: 700;
      font-size: 18px;
      margin: 10px auto 40px;
      min-height: 1.5em;
      max-width: 860px;
    }
    #songsTableContainer {
      margin-bottom: 40px;
    }
  </style>
</head>
<body>

<h1 onclick="resetToDefault()" title="í™ˆìœ¼ë¡œ ì´ë™">RIMO's SONG BOOK ğŸµ</h1>

<div class="important-notice">
  ğŸ“Œ ë…¸ë˜ì±… ì„¤ëª…ì„œì™€ ê°€ê²©í‘œë¥¼ ë¨¼ì € í™•ì¸í•˜ê³  ì´ìš©í•´ì£¼ì„¸ìš”!
</div>

<div class="search-box">
  <input id="search" placeholder="ë…¸ë˜ ì œëª©, ê°€ìˆ˜ëª… ë“± ê²€ìƒ‰" oninput="searchSongs()" autocomplete="off" spellcheck="false" />
</div>

<div class="button-row">
  <button class="btn-pill btn-doc" onclick="showDoc('ë…¸ë˜ì±… ì„¤ëª…ì„œ')">ë…¸ë˜ì±… ì„¤ëª…ì„œ</button>
  <button class="btn-pill btn-doc" onclick="showDoc('ê°€ê²©í‘œ')">ê°€ê²©í‘œ</button>
</div>

<div class="button-row">
  <button class="btn-pill btn-genre" onclick="selectGenre('Kpop')">K-pop</button>
  <button class="btn-pill btn-genre" onclick="selectGenre('Kpopì•„ì´ëŒ')">K-pop ì•„ì´ëŒ</button>
  <button class="btn-pill btn-genre" onclick="selectGenre('Pop')">Pop</button>
</div>

<div id="buttonsContainer"></div>

<div id="ë…¸ë˜ì±… ì„¤ëª…ì„œ" class="doc-section">
  <div class="section-title">ë…¸ë˜ì±… ì„¤ëª…ì„œ</div>
  <ul>
    <li>â€¢ë…¸ë˜ ì‹ ì²­ì„ í•  ë• ê¼­!! ê°€ìˆ˜ì™€ ê³¡ ì œëª©ì„ í•¨ê»˜ ì ì–´ì„œ ì‹ ì²­í•´ì£¼ì„¸ìš”. (ì½”ë“œë„ ì ì–´ì£¼ì‹œë©´ ê°ì‚¬í•©ë‹ˆë‹¤!)</li>
    <li>â€¢ì»¨ë””ì…˜ì— ë”°ë¼ ë¶€ë¥´ê¸° ì–´ë µë‹¤ê³  íŒë‹¨ë  ê²½ìš° ì‹ ì²­ê³¡ì„ ê±°ì ˆí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.<br>(ê±°ì ˆëœ ì‹ ì²­ì€ ê¸°ë³¸ ë…¸ë˜ 2ê³¡ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥í•©ë‹ˆë‹¤.)</li>
    <li>â€¢ì„¤ëª…ì„ ì½ì§€ ì•Šê³  ì‹ ì²­í•  ê²½ìš° ì±…ì„ì€ ì‹ ì²­ìì—ê²Œ ìˆìŠµë‹ˆë‹¤.</li>
    <li>â€¢ì¶”ì²œ ê³¡ì€ ë””ìŠ¤ì½”ë“œ ë…¸ë˜ ì¶”ì²œë°©ì— ì ì–´ì£¼ì„¸ìš”.</li>
    <li>âŒê³¼ë„í•œ í‰ê°€ì™€ í›ˆìˆ˜ëŠ” ìì œí•´ì£¼ì„¸ìš”âŒ</li>
  </ul>
</div>

<div id="ê°€ê²©í‘œ" class="doc-section" style="display:none;">
  <div class="section-title">ê°€ê²©í‘œ</div>
  <ul>
    <li>â€¢ê¸°ë³¸ ë…¸ë˜ ì‹ ì²­ì€ 2000 ì¹˜ì¦ˆ í˜¹ì€ íˆ¬ë„¤ì´ì…˜ìœ¼ë¡œ ì‹ ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
    <li>â€¢ì–´ë ¤ìš´ ë…¸ë˜ ì‹ ì²­ì€ 5000 ì¹˜ì¦ˆ í˜¹ì€ íˆ¬ë„¤ì´ì…˜ìœ¼ë¡œ ì‹ ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
    <li>â€¢ìœ ë£Œê³¡ ë…¸ë˜ ì‹ ì²­ì€ 10000 ì¹˜ì¦ˆ ì´ìƒ í˜¹ì€ íˆ¬ë„¤ì´ì…˜ìœ¼ë¡œ ì‹ ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
    <li>â€¢ê°œì¸ ì†Œì¥ ë…¸ë˜ ë…¹ìŒë³¸ (ë¯¹ì‹± ìœ ë¬´ ì„ íƒ ê°€ëŠ¥)ì€ 200,000 ì¹˜ì¦ˆ í˜¹ì€ íˆ¬ë„¤ì´ì…˜ìœ¼ë¡œ ì‹ ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
  </ul>
</div>

<div id="searchResultsMessage"></div>
<div id="songsTableContainer"></div>

<script>
  const korInitials = ['ã„±','ã„´','ã„·','ã„¹','ã…','ã…‚','ã……','ã…‡','ã…ˆ','ã…Š','ã…‹','ã…Œ','ã…','ã…'];
  const engInitials = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');

  // ê°€ìˆ˜ ì´ë¦„ì—ì„œ ì²« ê¸€ì ì´ˆì„± ì¶”ì¶œ í•¨ìˆ˜ (í•œê¸€/ì˜ì–´ ëª¨ë‘ ì²˜ë¦¬)
  function getInitial(name) {
    if (!name || name.length === 0) return '';
    const firstChar = name.trim()[0].toUpperCase();
    // í•œê¸€ ì´ˆì„± êµ¬í•˜ê¸°
    const code = firstChar.charCodeAt(0);
    if (code >= 0xAC00 && code <= 0xD7A3) {
      const baseCode = code - 0xAC00;
      const cho = Math.floor(baseCode / 588);
      return ['ã„±','ã„²','ã„´','ã„·','ã„¸','ã„¹','ã…','ã…‚','ã…ƒ','ã……','ã…†','ã…‡','ã…ˆ','ã…‰','ã…Š','ã…‹','ã…Œ','ã…','ã…'][cho];
    }
    // ì˜ì–´ë¼ë©´ ê·¸ëƒ¥ ì²«ê¸€ì ëŒ€ë¬¸ìë¡œ
    if (firstChar >= 'A' && firstChar <= 'Z') return firstChar;
    // ê·¸ ì™¸ëŠ” ë¹ˆë¬¸ìì—´
    return '';
  }

  const songsRaw = [
    // Kpopì•„ì´ëŒ
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'í™”', code:'F#m', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'ë¤ë””ë¤ë””', code:'E', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'í•œ(-)', code:'A', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'LATATA', code:'Am', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'Lion', code:'Em', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'Oh My God', code:'Em', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'Senorita', code:'Em', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'TOMBOY', code:'G#m', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'Nxde', code:'Am', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'í€¸ì¹´(Queencard)', code:'Em', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'ë‚˜ëŠ” ì•„í”ˆ ê±´ ë”± ì§ˆìƒ‰ì´ë‹ˆê¹Œ', code:'C', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'Uh-Oh', code:'Em', difficulty:'', skill:''},
    {singer:'(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', title:'Super Lady', code:'', difficulty:'', skill:''},

    {singer:'AB6IX', title:'Blind For Love', code:'Em', difficulty:'', skill:''},
    {singer:'AB6IX', title:'ë³„ì˜ ì¡°ê°ë“¤', code:'Em', difficulty:'', skill:''},

    {singer:'ASTRO', title:'Crazy Sexy Cool', code:'', difficulty:'', skill:''},
    {singer:'ASTRO', title:'FEELING', code:'', difficulty:'', skill:''},
    {singer:'ASTRO', title:'GOOD DAY', code:'', difficulty:'', skill:''},
    {singer:'ASTRO', title:'GONE', code:'', difficulty:'', skill:''},
    {singer:'ASTRO', title:'Ghost in my house', code:'', difficulty:'', skill:''},
    {singer:'ASTRO', title:'Grow Up', code:'', difficulty:'', skill:''},
    {singer:'ASTRO', title:'Knock', code:'', difficulty:'', skill:''},
    {singer:'ASTRO', title:'ONE', code:'', difficulty:'', skill:''},

    {singer:'BTS', title:'Permission To Dance', code:'', difficulty:'', skill:''},
    {singer:'BTS', title:'Dynamite', code:'', difficulty:'', skill:''},
    {singer:'BTS', title:'Butter', code:'', difficulty:'', skill:''},
    {singer:'BTS', title:'Boy With Luv', code:'', difficulty:'', skill:''},
    {singer:'BTS', title:'Fake Love', code:'', difficulty:'', skill:''},
    {singer:'BTS', title:'Run', code:'', difficulty:'', skill:''},
    {singer:'BTS', title:'Spring Day', code:'', difficulty:'', skill:''},
    {singer:'BTS', title:'Life Goes On', code:'', difficulty:'', skill:''},

    {singer:'BLACKPINK', title:'Lovesick Girls', code:'', difficulty:'', skill:''},
    {singer:'BLACKPINK', title:'How You Like That', code:'', difficulty:'', skill:''},
    {singer:'BLACKPINK', title:'Kill This Love', code:'', difficulty:'', skill:''},
    {singer:'BLACKPINK', title:'Pretty Savage', code:'', difficulty:'', skill:''},

    // Kpop
    {singer:'ê°•ë‹¤ë‹ˆì—˜', title:'2U', code:'', difficulty:'', skill:''},
    {singer:'ê°•ë‹¤ë‹ˆì—˜', title:'Paradise', code:'', difficulty:'', skill:''},
    {singer:'ê°•ë‹¤ë‹ˆì—˜', title:'TOUCHIN`', code:'', difficulty:'', skill:''},

    {singer:'ê²½ì„œì˜ˆì§€', title:'ì°¨ê°€ì›Œì§„ ì´ ë°”ëŒì—” ìš°ë¦¬ê°€ ì¨ìˆì–´', code:'', difficulty:'', skill:''},

    {singer:'ê¸°ë¦¬ë³´ì´', title:'ë³´í†µë‚ ', code:'', difficulty:'', skill:''},

    {singer:'ë…¸ì„', title:'ê¸°ì–µí• ê²Œ', code:'', difficulty:'', skill:''},

    {singer:'ë‹¤ë¹„ì¹˜', title:'ë„ˆì—ê²Œ ëª»í–ˆë˜ ë‚´ ë§ˆì§€ë§‰ ë§ì€', code:'', difficulty:'', skill:''},
    {singer:'ë‹¤ë¹„ì¹˜', title:'ë‚˜ì˜ ì˜¤ëœ ì—°ì¸ì—ê²Œ', code:'', difficulty:'', skill:''},

    {singer:'ë¼ë¶', title:'ë¹„ë°€ì´ì•¼', code:'', difficulty:'', skill:''},
    {singer:'ë¼ë¶', title:'ì•ˆë…•', code:'', difficulty:'', skill:''},

    {singer:'ì„ ë¯¸', title:'ë³´ë¼ë¹› ë°¤', code:'', difficulty:'', skill:''},
    {singer:'ì„ ë¯¸', title:'24ì‹œê°„ì´ ëª¨ìë¼', code:'', difficulty:'', skill:''},

    {singer:'ì•„ì´ìœ ', title:'ì¢‹ì€ ë‚ ', code:'', difficulty:'', skill:''},
    {singer:'ì•„ì´ìœ ', title:'ë°¤í¸ì§€', code:'', difficulty:'', skill:''},
    {singer:'ì•„ì´ìœ ', title:'Blueming', code:'', difficulty:'', skill:''},
    {singer:'ì•„ì´ìœ ', title:'Love Poem', code:'', difficulty:'', skill:''},

    {singer:'ì˜¤ë§ˆì´ê±¸', title:'Dun Dun Dance', code:'', difficulty:'', skill:''},
    {singer:'ì˜¤ë§ˆì´ê±¸', title:'ì‚´ì§ ì„¤ë œì–´', code:'', difficulty:'', skill:''},

    {singer:'ìì´ì–¸í‹°', title:'êº¼ë‚´ ë¨¹ì–´ìš”', code:'', difficulty:'', skill:''},

    {singer:'ì²­í•˜', title:'ë²Œì¨ 12ì‹œ', code:'', difficulty:'', skill:''},

    {singer:'ì¼€ì´ì‹œ', title:'ê·¸ë•Œê°€ ì¢‹ì•˜ì–´', code:'', difficulty:'', skill:''},

    {singer:'í—¤ì´ì¦ˆ', title:'ë¹„ë„ ì˜¤ê³  ê·¸ë˜ì„œ', code:'', difficulty:'', skill:''},

    // Pop
    {singer:'Anne Marie', title:'2002', code:'C#m', difficulty:'', skill:''},
    {singer:'Anne Marie', title:'Birthday', code:'B', difficulty:'', skill:''},
    {singer:'Anne Marie', title:'FRIENDS', code:'Am', difficulty:'', skill:''},
    {singer:'Anne Marie', title:'Ciao adios', code:'G', difficulty:'', skill:''},

    {singer:'Adele', title:'Hello', code:'', difficulty:'', skill:''},
    {singer:'Adele', title:'Some one like you', code:'', difficulty:'', skill:''},
    {singer:'Adele', title:'My Same', code:'Em', difficulty:'', skill:'1ì ˆ'},
    {singer:'Adele', title:'Rolling in the Deep', code:'', difficulty:'', skill:'ì˜ ëª¨ë¦„'},

    {singer:'Abir', title:'Tango', code:'', difficulty:'', skill:'1ì ˆ'},
    {singer:'Alessia Cara', title:'Scars to Your Beautiful', code:'', difficulty:'', skill:''},
    {singer:'Ariana Grande', title:'Almost Is Never Enough(ft. Nathan Sykes)', code:'', difficulty:'', skill:'ì—¬ì íŒŒíŠ¸ë§Œ'},
    {singer:'Ariana Grande', title:'Santa tell me', code:'', difficulty:'', skill:''},

    {singer:'Alan Walker', title:'The Drum', code:'F#', difficulty:'', skill:''},

    {singer:'Billie Eilish', title:'bad guy', code:'Cm', difficulty:'', skill:''},
    {singer:'Billie Eilish', title:'Copycat', code:'', difficulty:'', skill:''},

    {singer:'Bruno Mars', title:'24K Magic', code:'', difficulty:'', skill:''},
    {singer:'Bruno Mars', title:'Just The Way You Are', code:'', difficulty:'', skill:''},
    {singer:'Bruno Mars', title:'Treasure', code:'', difficulty:'', skill:''},

    {singer:'Calvin Harris', title:'Summer', code:'', difficulty:'', skill:''},

    {singer:'Charlie Puth', title:'Attention', code:'Cm', difficulty:'', skill:''},

    {singer:'Ed Sheeran', title:'Shape Of You', code:'', difficulty:'', skill:''},
    {singer:'Ed Sheeran', title:'Perfect', code:'', difficulty:'', skill:''},

    {singer:'Justin Bieber', title:'Baby', code:'', difficulty:'', skill:''},
    {singer:'Justin Bieber', title:'Sorry', code:'', difficulty:'', skill:''},

    {singer:'Taylor Swift', title:'Love Story', code:'', difficulty:'', skill:''},
    {singer:'Taylor Swift', title:'You Belong With Me', code:'', difficulty:'', skill:''},
  ];

  // songs ë°°ì—´ì— category ì¶”ê°€ (ì´ˆì„±/ì•ŒíŒŒë²³ ê¸°ì¤€)
  const songs = songsRaw.map(({singer, title, code, difficulty, skill}) => {
    let initial = getInitial(singer);
    // ì¹´í…Œê³ ë¦¬ ë¶„ê¸°: Kpopì•„ì´ëŒ / Kpop / Pop
    // ì„ì‹œë¡œ Kpopì•„ì´ëŒì€ ê°€ìˆ˜ê°€ ì˜ì–´ ëŒ€ë¬¸ìë¡œ ë˜ì–´ìˆìœ¼ë©´ "Kpopì•„ì´ëŒ", ì•„ë‹ˆë©´ Kpop
    // ì—¬ê¸°ì„  ì›ë˜ userê°€ ë³´ë‚¸ ê±¸ ê·¸ëŒ€ë¡œ ìœ ì§€. ì¦‰ Kpopì•„ì´ëŒì€ ì›ë˜ Kpopì•„ì´ëŒì—ë§Œ ë“¤ì–´ê°
    // ë”°ë¼ì„œ ì›ë³¸ ë°ì´í„°ë¥¼ ë³´ê³  Kpopì•„ì´ëŒ ê°€ìˆ˜ì¸ì§€ ì•„ë‹Œì§€ êµ¬ë¶„ ê°€ëŠ¥í•˜ë‚˜, ë‹¨ìˆœíˆ 'Kpopì•„ì´ëŒ'ì´ë€ ì¹´í…Œê³ ë¦¬ì— ë„£ëŠ”ê±¸ ìœ ì§€.

    // userë‹˜ ë°ì´í„°ì—ì„œ Kpopì•„ì´ëŒ ê°€ìˆ˜ ë¦¬ìŠ¤íŠ¸ ì˜ˆ: (ì—¬ì)ì•„ì´ë“¤, BTS, BLACKPINK, AB6IX, ASTRO, etc
    // ê°„ë‹¨íˆ ì˜ì–´ ê°€ìˆ˜ëª… ëŒ€ë¬¸ì í¬í•¨í•˜ë©´ Kpopì•„ì´ëŒ, í•œê¸€ ì´ë¦„ì€ Kpopìœ¼ë¡œ ë¶„ë¥˜

    let category = '';
    if (['(ì—¬ì)ì•„ì´ë“¤(G)I-DLE', 'AB6IX', 'ASTRO', 'BTS', 'BLACKPINK'].includes(singer)) {
      category = 'Kpopì•„ì´ëŒ ' + initial;
    } else if (singer.match(/^[A-Za-z]/)) {
      category = 'Pop ' + initial;
    } else {
      category = 'Kpop ' + initial;
    }

    return {category, singer, title, code, difficulty, skill};
  });

  let currentCategory = null;
  let currentInitial = null;

  // ì¹´í…Œê³ ë¦¬ë³„ ì´ˆì„±(í•œê¸€) or ì•ŒíŒŒë²³ ë¦¬ìŠ¤íŠ¸
  const initialsMap = {
    'Kpop': korInitials,
    'Kpopì•„ì´ëŒ': korInitials,
    'Pop': engInitials
  };

  function showDoc(section) {
    document.getElementById('ë…¸ë˜ì±… ì„¤ëª…ì„œ').style.display = 'none';
    document.getElementById('ê°€ê²©í‘œ').style.display = 'none';
    if (section) {
      document.getElementById(section).style.display = 'block';
    }
    clearButtons();
    clearTable();
  }

  function clearButtons() {
    document.getElementById('buttonsContainer').innerHTML = '';
  }

  function clearTable() {
    document.getElementById('songsTableContainer').innerHTML = '';
    document.getElementById('searchResultsMessage').textContent = '';
  }

  function resetToDefault() {
    document.getElementById('search').value = '';
    showDoc('ë…¸ë˜ì±… ì„¤ëª…ì„œ');
    currentCategory = null;
    currentInitial = null;
    clearButtons();
    clearTable();
  }

  function selectGenre(genre) {
    currentCategory = genre;
    currentInitial = null;
    document.getElementById('search').value = '';
    showDoc(null);

    // ë²„íŠ¼ ìƒì„±
    const container = document.getElementById('buttonsContainer');
    container.innerHTML = '';
    const initials = initialsMap[genre] || [];
    initials.forEach(initial => {
      const btn = document.createElement('button');
      btn.textContent = initial;
      btn.className = 'btn-circle';
      btn.onclick = () => selectInitial(initial);
      container.appendChild(btn);
    });

    clearTable();
  }

  function selectInitial(initial) {
    currentInitial = initial;
    document.getElementById('search').value = '';
    showDoc(null);
    renderSongsTable();
  }

  function renderSongsTable() {
    clearTable();
    const container = document.getElementById('songsTableContainer');
    if (!currentCategory || !currentInitial) {
      container.innerHTML = '';
      return;
    }
    // ì„ íƒí•œ ì¹´í…Œê³ ë¦¬ì™€ ì´ˆì„±/ì•ŒíŒŒë²³ìœ¼ë¡œ í•„í„°
    const filteredSongs = songs.filter(song => {
      if (!song.category) return false;
      // categoryê°€ 'Kpop ã„±' ê°™ì€ í˜•íƒœì„
      return song.category.startsWith(currentCategory) && song.category.endsWith(currentInitial);
    });
    if (filteredSongs.length === 0) {
      document.getElementById('searchResultsMessage').textContent = `ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤: ${currentCategory} ${currentInitial}`;
      container.innerHTML = '';
      return;
    }
    document.getElementById('searchResultsMessage').textContent = '';

    // í…Œì´ë¸” ìƒì„±
    const table = document.createElement('table');
    const thead = document.createElement('thead');
    const thr = document.createElement('tr');
    ['ì œëª©', 'ê°€ìˆ˜', 'í‚¤', 'ë‚œì´ë„', 'ìˆ™ë ¨ë„'].forEach(txt => {
      const th = document.createElement('th');
      th.textContent = txt;
      thr.appendChild(th);
    });
    thead.appendChild(thr);
    table.appendChild(thead);

    const tbody = document.createElement('tbody');
    filteredSongs.forEach(({title, singer, code, difficulty, skill}) => {
      const tr = document.createElement('tr');
      [title, singer, code, difficulty, skill].forEach(val => {
        const td = document.createElement('td');
        td.textContent = val || '';
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });
    table.appendChild(tbody);
    container.appendChild(table);
  }

  function searchSongs() {
    clearTable();
    showDoc(null);
    const query = document.getElementById('search').value.trim().toLowerCase();
    if (query.length === 0) {
      document.getElementById('searchResultsMessage').textContent = '';
      return;
    }
    const container = document.getElementById('songsTableContainer');
    const results = songs.filter(({title, singer}) => {
      return title.toLowerCase().includes(query) || singer.toLowerCase().includes(query);
    });
    if (results.length === 0) {
      document.getElementById('searchResultsMessage').textContent = 'ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.';
      return;
    }
    document.getElementById('searchResultsMessage').textContent = '';

    const table = document.createElement('table');
    const thead = document.createElement('thead');
    const thr = document.createElement('tr');
    ['ì œëª©', 'ê°€ìˆ˜', 'í‚¤', 'ë‚œì´ë„', 'ìˆ™ë ¨ë„'].forEach(txt => {
      const th = document.createElement('th');
      th.textContent = txt;
      thr.appendChild(th);
    });
    thead.appendChild(thr);
    table.appendChild(thead);

    const tbody = document.createElement('tbody');
    results.forEach(({title, singer, code, difficulty, skill}) => {
      const tr = document.createElement('tr');
      [title, singer, code, difficulty, skill].forEach(val => {
        const td = document.createElement('td');
        td.textContent = val || '';
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });
    table.appendChild(tbody);
    container.appendChild(table);
  }

  resetToDefault();
</script>

</body>
</html>
