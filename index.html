<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RIMO's SONG BOOK ğŸµ</title>
<style>
  table, th, td {
    border: 1px solid gray;
    border-collapse: collapse;
  }
  th, td {
    padding: 8px;
    text-align: center;
    vertical-align: middle;
  }
  th {
    background-color: #f0f0f0;
  }
  .category-buttons, .sort-buttons {
    margin: 10px 0;
  }
  button {
    margin: 5px;
    padding: 5px 10px;
    cursor: pointer;
  }
  .divider {
    margin: 20px auto;
    width: 80%;
    height: 1px;
    background-color: #999;
    border: none;
  }
  .notice {
    width: 90%;
    max-width: 800px;
    margin: 10px auto 20px auto;
    text-align: left;
    font-size: 0.95rem;
    color: #444;
    white-space: pre-line;
  }
  .no-result {
    display: none;
    margin-top: 10px;
    text-align: center;
  }
  /* ìŒì ˆí–‰ ìŠ¤íƒ€ì¼ */
  .syllable-row td {
    background-color: #fafafa;
    text-align: left;
    padding: 10px;
    font-weight: bold;
    border-top: 2px solid #ccc;
  }
  .syllable-cell {
    border: 1px solid #ddd;
    margin: 2px;
    padding: 4px 6px;
    display: inline-block;
    background-color: #fff;
    border-radius: 4px;
    min-width: 40px;
    text-align: center;
  }
</style>
</head>
<body>

<h1>RIMO's SONG BOOK</h1>

<div class="important-notice">
  <p><strong>ğŸ“Œ í•„ë… ê³µì§€:</strong> ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì›í•˜ëŠ” ê³¡ì„ ì •ë ¬í•˜ê±°ë‚˜ ì¹´í…Œê³ ë¦¬ë³„ë¡œ ë³¼ ìˆ˜ ìˆì–´ìš”!</p>
</div>

<!-- ìƒë‹¨ ì¹´í…Œê³ ë¦¬: ì„¤ëª…ì„œ & ê°€ê²©í‘œ -->
<div class="category-buttons">
  <button onclick="filterCategory('ë…¸ë˜ì±… ì„¤ëª…ì„œ')">ë…¸ë˜ì±… ì„¤ëª…ì„œ</button>
  <button onclick="filterCategory('ê°€ê²©í‘œ')">ê°€ê²©í‘œ</button>
</div>

<hr class="divider" />

<!-- ì¥ë¥´ ì¹´í…Œê³ ë¦¬ -->
<div class="category-buttons">
  <button onclick="filterCategory('K-pop')">K-pop</button>
  <button onclick="filterCategory('K-pop ì•„ì´ëŒ')">K-pop ì•„ì´ëŒ</button>
  <button onclick="filterCategory('Pop')">Pop</button>
</div>

<!-- ì •ë ¬ ë²„íŠ¼ -->
<div class="sort-buttons" id="sortButtons" style="display:none;">
  <button onclick="sortTable('singer')">ê°€ìˆ˜ìˆœ</button>
  <button onclick="sortTable('title')">ì œëª©ìˆœ</button>
  <button onclick="sortTable('code')">ì½”ë“œìˆœ</button>
  <button onclick="sortTable('level')">ë‚œì´ë„ìˆœ</button>
  <button onclick="sortTable('skill')">ìˆ™ë ¨ë„ìˆœ</button>
</div>

<!-- ê³µì§€ ë° í…Œì´ë¸” -->
<div class="notice" id="genreNotice" style="display:none;">
  â€¢ ìˆ™ì§€ê°€ ë¶€ì¡±í•œ ë…¸ë˜ëŠ” ë”°ë¡œ í‘œê¸°ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<br>
  â€¢ ê°€ìˆ˜ ì´ë¦„ì€ ê°€ë‚˜ë‹¤ ìˆœì„œë¡œ ë‚˜ì—´ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
</div>

<table id="songTable" style="width:90%; max-width:800px; margin:auto;">
  <thead>
    <tr id="tableHeader">
      <th>ê°€ìˆ˜</th>
      <th>ì œëª©</th>
      <th>ì½”ë“œ</th>
      <th>ë‚œì´ë„</th>
      <th>ìˆ™ë ¨ë„</th>
    </tr>
  </thead>
  <tbody id="tableBody">
    <!-- ë‚´ìš©ì€ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ìƒì„± -->
  </tbody>
</table>

<div class="no-result" id="noResult">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì–´ìš” ğŸ¥²</div>

<script>
  // ë°ì´í„° ìƒ˜í”Œ (ê°€ìˆ˜ëª…ì€ ì´ˆì„±ë³„ë¡œ ì˜ ë‚˜ëˆ ì§)
  const data = {
    "ë…¸ë˜ì±… ì„¤ëª…ì„œ": [
      {text: `â€¢ë…¸ë˜ ì‹ ì²­ì„ í•  ë• ê¼­!! ê°€ìˆ˜ì™€ ê³¡ ì œëª©ì„ í•¨ê»˜ ì ì–´ì„œ ì‹ ì²­í•´ì£¼ì„¸ìš”. (ì½”ë“œë„ ì ì–´ì£¼ì‹œë©´ ê°ì‚¬í•©ë‹ˆë‹¤!)

â€¢ì»¨ë””ì…˜ì— ë”°ë¼ ë¶€ë¥´ê¸° ì–´ë µë‹¤ê³  íŒë‹¨ ë  ê²½ìš° ì‹ ì²­ê³µì„ ê±°ì ˆí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. (ê±°ì ˆëœ ì‹ ì²­ì€ ê¸°ë³¸ ë…¸ë˜ 2ê³¡ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥í•©ë‹ˆë‹¤.)

â€¢ì„¤ëª…ì„ ì½ì§€ ì•Šê³  ì‹ ì²­í•  ê²½ìš° ì±…ì„ì€ ì‹ ì²­ìì—ê²Œ ìˆìŠµë‹ˆë‹¤.

â€¢ì¶”ì²œ ê³¡ì€ ë””ìŠ¤ì½”ë“œ ë…¸ë˜ ì¶”ì²œë°©ì— ì ì–´ì£¼ì„¸ìš”.

âŒê³¼ë„í•œ í‰ê°€ì™€ í›ˆìˆ˜ëŠ” ìì œí•´ì£¼ì„¸ìš”âŒ`}
    ],
    "ê°€ê²©í‘œ": [
      {text: `â€¢ê¸°ë³¸ ë…¸ë˜ ì‹ ì²­ì€ 2000 ì¹˜ì¦ˆ í˜¹ì€ íˆ¬ë„¤ì´ì…˜ìœ¼ë¡œ ì‹ ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤.

â€¢ì–´ë ¤ìš´ ë…¸ë˜ ì‹ ì²­ì€ 5000 ì¹˜ì¦ˆ í˜¹ì€ íˆ¬ë„¤ì´ì…˜ìœ¼ë¡œ ì‹ ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤.

â€¢ìœ ë£Œê³¡ ë…¸ë˜ ì‹ ì²­ì€ 10000 ì¹˜ì¦ˆ ì´ìƒ í˜¹ì€ íˆ¬ë„¤ì´ì…˜ìœ¼ë¡œ ì‹ ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤.

â€¢ê°œì¸ ì†Œì¥ ë…¸ë˜ ë…¹ì€ë³¸ (ë¯¹ì‹± ìœ ë¬´ ì„ íƒ ê°€ëŠ¥)ì€ 200,000 ì¹˜ì¦ˆ í˜¹ì€ íˆ¬ë„¤ì´ì…˜ìœ¼ë¡œ ì‹ ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤.`}
    ],
    "K-pop": [
      {title: "Ditto", singer: "ê°•ë‹¤ë‹ˆì—˜", code: "C", level: 2, skill: "â­ï¸â­ï¸"},
      {title: "OMG", singer: "ê¹€ì¬í™˜", code: "Am", level: 3, skill: "â­ï¸â­ï¸â­ï¸"},
      {title: "Butterfly", singer: "ë‚˜ì—°", code: "F", level: 1, skill: "â­ï¸"},
      {title: "Eyes, Nose, Lips", singer: "íƒœì–‘", code: "G", level: 4, skill: "â­ï¸â­ï¸â­ï¸â­ï¸"},
      {title: "Love Shot", singer: "ë¯¼í˜¸", code: "Dm", level: 3, skill: "â­ï¸â­ï¸â­ï¸"},
      {title: "Solo", singer: "íƒœì—°", code: "Gm", level: 2, skill: "â­ï¸â­ï¸"},
      {title: "ë´„ë‚ ", singer: "ë°©íƒ„ì†Œë…„ë‹¨", code: "Em", level: 3, skill: "â­ï¸â­ï¸â­ï¸"},
    ],
    "K-pop ì•„ì´ëŒ": [
      {title: "Hype Boy", singer: "New Jeans", code: "F", level: 3, skill: "â­ï¸â­ï¸â­ï¸"},
      {title: "Next Level", singer: "aespa", code: "Gm", level: 4, skill: "â­ï¸â­ï¸â­ï¸â­ï¸"},
      {title: "Dalla Dalla", singer: "ITZY", code: "Am", level: 3, skill: "â­ï¸â­ï¸â­ï¸"},
      {title: "Gee", singer: "ì†Œë…€ì‹œëŒ€", code: "C", level: 2, skill: "â­ï¸â­ï¸"},
      {title: "Cheer Up", singer: "íŠ¸ì™€ì´ìŠ¤", code: "G", level: 3, skill: "â­ï¸â­ï¸â­ï¸"},
    ],
    "Pop": [
      {title: "Shape of You", singer: "Ed Sheeran", code: "Dm", level: 3, skill: "â­ï¸â­ï¸â­ï¸"},
      {title: "Perfect", singer: "Ed Sheeran", code: "G", level: 2, skill: "â­ï¸â­ï¸"},
      {title: "Someone Like You", singer: "Adele", code: "C", level: 4, skill: "â­ï¸â­ï¸â­ï¸â­ï¸"},
      {title: "Hello", singer: "Adele", code: "F", level: 2, skill: "â­ï¸â­ï¸"},
      {title: "Bad Guy", singer: "Billie Eilish", code: "Am", level: 3, skill: "â­ï¸â­ï¸â­ï¸"},
    ]
  };

  const koreanSyllables = ["ã„±","ã„´","ã„·","ã„¹","ã…","ã…‚","ã……","ã…‡","ã…ˆ","ã…Š","ã…‹","ã…Œ","ã…","ã…"];
  const englishLetters = [..."abcdefghijklmnopqrstuvwxyz"];

  let currentCategory = "";

  function createHeaderForText() {
    const header = document.getElementById('tableHeader');
    header.innerHTML = '';
    const th = document.createElement('th');
    th.innerText = 'ë‚´ìš©';
    th.colSpan = 5;
    header.appendChild(th);
  }

  function createHeaderForGenre() {
    const header = document.getElementById('tableHeader');
    header.innerHTML = '';
    ['ê°€ìˆ˜','ì œëª©','ì½”ë“œ','ë‚œì´ë„','ìˆ™ë ¨ë„'].forEach(text => {
      const th = document.createElement('th');
      th.innerText = text;
      header.appendChild(th);
    });
  }

  // ì´ˆì„± ë½‘ëŠ” í•¨ìˆ˜ (í•œê¸€ í•œ ê¸€ì ê¸°ì¤€)
  function getInitialConsonant(char) {
    const uni = char.charCodeAt(0);
    if(uni < 0xAC00 || uni > 0xD7A3) return ''; // í•œê¸€ ì•„ë‹˜
    const initialConsonants = ["ã„±","ã„²","ã„´","ã„·","ã„¸","ã„¹","ã…","ã…‚","ã…ƒ","ã……","ã…†","ã…‡","ã…ˆ","ã…‰","ã…Š","ã…‹","ã…Œ","ã…","ã…"];
    return initialConsonants[Math.floor((uni - 0xAC00) / 588)] || '';
  }

  // í•œê¸€ ìŒì ˆë³„ë¡œ ê°€ìˆ˜ ë¶„ë¥˜
  function groupByKoreanInitial(dataList) {
    const groups = {};
    koreanSyllables.forEach(syl => groups[syl] = []);
    dataList.forEach(item => {
      const initial = getInitialConsonant(item.singer[0]);
      if(groups[initial]) groups[initial].push(item);
    });
    return groups;
  }

  // ì˜ì–´ ì•ŒíŒŒë²³ìœ¼ë¡œ ê°€ìˆ˜ ë¶„ë¥˜
  function groupByEnglishInitial(dataList) {
    const groups = {};
    englishLetters.forEach(l => groups[l] = []);
    dataList.forEach(item => {
      const first = item.singer[0].toLowerCase();
      if(groups[first]) groups[first].push(item);
    });
    return groups;
  }

  function filterCategory(category) {
    currentCategory = category;
    const tbody = document.getElementById('tableBody');
    const notice = document.getElementById('genreNotice');
    const noResult = document.getElementById('noResult');
    const sortButtons = document.getElementById('sortButtons');

    tbody.innerHTML = '';

    if(category === 'ë…¸ë˜ì±… ì„¤ëª…ì„œ' || category === 'ê°€ê²©í‘œ'){
      createHeaderForText();
      notice.style.display = 'none';
      sortButtons.style.display = 'none';
      data[category].forEach(item => {
        const tr = document.createElement('tr');
        const td = document.createElement('td');
        td.colSpan = 5;
        td.style.textAlign = 'left';
        td.style.padding = '12px';
        td.style.whiteSpace = 'pre-line';
        td.innerText = item.text;
        tr.appendChild(td);
        tbody.appendChild(tr);
      });
      noResult.style.display = 'none';
      return;
    }

    createHeaderForGenre();
    notice.style.display = 'block';
    sortButtons.style.display = 'flex';

    let items = data[category] || [];
    if(items.length === 0){
      noResult.style.display = 'block';
      return;
    }
    noResult.style.display = 'none';

    // ê°€ë‚˜ë‹¤ìˆœ ì •ë ¬ (ê°€ìˆ˜ ê¸°ì¤€)
    items.sort((a,b) => a.singer.localeCompare(b.singer));

    // ê¸°ë³¸ ë…¸ë˜ í–‰ ì¶”ê°€
    items.forEach(item => {
      const tr = document.createElement('tr');
      ['singer','title','code','level','skill'].forEach(key => {
        const td = document.createElement('td');
        td.innerText = item[key];
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });

    // ì—¬ê¸°ì„œë¶€í„° ì´ˆì„±(ê°€ë¡œ ìŒì ˆ) í–‰ ì¶”ê°€ êµ¬í˜„ì€ í•„ìš”ì— ë”°ë¼ ì¶”ê°€í•˜ì„¸ìš”.
  }

  // ì´ˆê¸°í™” ì‹œ ì„¤ëª…ì„œ ë³´ì—¬ì£¼ê¸°
  window.onload = () => {
    filterCategory('ë…¸ë˜ì±… ì„¤ëª…ì„œ');
  };
</script>

</body>
</html>
