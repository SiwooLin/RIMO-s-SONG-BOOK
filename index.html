<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RIMO's SONG BOOK</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
    body {
      font-family: 'Jua', sans-serif;
      background: #1f1f1f;
      color: #f0f0f0;
      text-align: center;
      margin: 0 auto;
      max-width: 900px;
      padding: 20px;
    }
    h1 {
      color: #ffaa00;
      font-size: 4.2rem;
      margin-bottom: 10px;
      cursor: pointer;
    }
    .important-notice {
      background: #b1a0e5;
      color: #3b2d70;
      padding: 12px;
      border-radius: 8px;
      font-weight: bold;
      margin-bottom: 15px;
    }
    .search-box {
      margin-bottom: 25px;
    }
    #search {
      width: 100%;
      padding: 11px 20px;
      font-size: 16px;
      border: none;
      border-radius: 25px;
      text-align: center;
      font-family: 'Jua', sans-serif;
    }
    .btn-pill, .btn-circle {
      font-family: 'Jua', sans-serif;
      color: white;
      border: none;
      cursor: pointer;
      transition: filter 0.3s;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      background: #ffb870;
    }
    .btn-pill {
      font-size: 16px;
      padding: 10px 26px;
      border-radius: 9999px;
      margin: 5px 6px;
    }
    .btn-circle {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      font-size: 16px;
      margin: 5px 4px;
    }
    .button-row {
      margin-bottom: 15px;
      text-align: center;
    }
    .doc-section {
      background: #8c76e0;
      color: #f3ecff;
      padding: 18px 22px;
      border-radius: 12px;
      margin-bottom: 40px;
      text-align: left;
      line-height: 1.5;
    }
    .section-title {
      font-size: 2rem;
      margin-bottom: 15px;
      color: #ff7a00;
      text-align: center;
    }
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      font-size: 16px;
      margin-bottom: 40px;
    }
    thead tr {
      background: #331a00;
    }
    thead th {
      padding: 12px;
      color: #ff5500;
      border-bottom: 2px dotted #ff7a00;
    }
    tbody tr:nth-child(even) {
      background: #2b2b2b;
    }
    tbody tr:nth-child(odd) {
      background: #1f1f1f;
    }
    tbody td {
      padding: 10px;
      border-bottom: 2px dotted #ff7a00;
    }
    #searchResultsMessage {
      color: #b1a0e5;
      font-weight: bold;
      font-size: 18px;
      margin: 10px 0 30px;
      min-height: 1.5em;
    }
  </style>
</head>
<body>

<h1 onclick="resetToDefault()">RIMO's SONG BOOK 🎵</h1>

<div class="important-notice">
  📌 노래책 설명서와 가격표를 먼저 확인하고 이용해주세요!
</div>

<div class="search-box">
  <input id="search" placeholder="노래 제목, 가수명 등 검색" oninput="searchSongs()" />
</div>

<div class="button-row">
  <button class="btn-pill" onclick="showDoc('노래책 설명서')">노래책 설명서</button>
  <button class="btn-pill" onclick="showDoc('가격표')">가격표</button>
</div>

<div class="button-row">
  <button class="btn-pill" onclick="selectGenre('Kpop')">K-pop</button>
  <button class="btn-pill" onclick="selectGenre('Kpop아이돌')">K-pop 아이돌</button>
  <button class="btn-pill" onclick="selectGenre('Pop')">Pop</button>
</div>

<div id="buttonsContainer"></div>

<div id="노래책 설명서" class="doc-section">
  <div class="section-title">노래책 설명서</div>
  <ul>
    <li>•노래 신청을 할 땐 꼭!! 가수와 곡 제목을 함께 적어서 신청해주세요. (코드도 적어주시면 감사합니다!)</li>
    <li>•컨디션에 따라 부르기 어렵다고 판단될 경우 신청곡을 거절할 수도 있습니다.<br>(거절된 신청은 기본 노래 2곡으로 대체 가능합니다.)</li>
    <li>•설명을 읽지 않고 신청할 경우 책임은 신청자에게 있습니다.</li>
    <li>•추천 곡은 디스코드 노래 추천방에 적어주세요.</li>
    <li>❌과도한 평가와 훈수는 자제해주세요❌</li>
  </ul>
</div>

<div id="가격표" class="doc-section" style="display:none;">
  <div class="section-title">가격표</div>
  <ul>
    <li>•기본 노래 신청은 2000 치즈 혹은 투네이션으로 신청 가능합니다.</li>
    <li>•어려운 노래 신청은 5000 치즈 혹은 투네이션으로 신청 가능합니다.</li>
    <li>•유료곡 노래 신청은 10000 치즈 이상 혹은 투네이션으로 신청 가능합니다.</li>
    <li>•개인 소장 노래 녹음본 (믹싱 유무 선택 가능)은 200,000 치즈 혹은 투네이션으로 신청 가능합니다.</li>
  </ul>
</div>

<div id="searchResultsMessage"></div>
<div id="songsTableContainer"></div>

<script>
const korInitials = ['ㄱ','ㄴ','ㄷ','ㄹ','ㅁ','ㅂ','ㅅ','ㅇ','ㅈ','ㅊ','ㅋ','ㅌ','ㅍ','ㅎ'];
const engInitials = 'abcdefghijklmnopqrstuvwxyz'.split('');
const songs = [
  {category:'Kpop ㄱ', title:'Gangnam Style', singer:'PSY', code:'Am', difficulty:'쉬움', skill:'중'},
  {category:'Kpop ㄴ', title:'Nobody', singer:'Wonder Girls', code:'G', difficulty:'쉬움', skill:'중'},
  {category:'Kpop 전체', title:'Dynamite', singer:'BTS', code:'C', difficulty:'중', skill:'고'},
  {category:'Kpop아이돌 전체', title:'Ice Cream', singer:'BLACKPINK', code:'F', difficulty:'중', skill:'중'},
  {category:'Pop 전체', title:'Shape of You', singer:'Ed Sheeran', code:'Dm', difficulty:'중', skill:'고'},
  {category:'Pop a', title:'All of Me', singer:'John Legend', code:'Em', difficulty:'중', skill:'중'},
  {category:'Pop b', title:'Bad Guy', singer:'Billie Eilish', code:'Bm', difficulty:'어려움', skill:'고'}
];
let currentGenre='', currentFilter='';

function resetToDefault() {
  showDoc('노래책 설명서');
  document.getElementById('buttonsContainer').innerHTML = '';
  document.getElementById('songsTableContainer').innerHTML = '';
  document.getElementById('searchResultsMessage').textContent = '';
  document.getElementById('search').value = '';
  currentGenre = ''; currentFilter = '';
}

function showDoc(which){
  document.getElementById('노래책 설명서').style.display = which==='노래책 설명서'?'block':'none';
  document.getElementById('가격표').style.display = which==='가격표'?'block':'none';
}

function selectGenre(genre){
  currentGenre = genre;
  currentFilter = genre + ' 전체';
  showDoc('');
  drawInitialButtons();
  drawTable(songs.filter(s => s.category.startsWith(genre)));
}

function drawInitialButtons(){
  const cont = document.getElementById('buttonsContainer');
  cont.innerHTML = '';
  const allBtn = document.createElement('button');
  allBtn.className = 'btn-pill';
  allBtn.textContent = '전체';
  allBtn.onclick = () => {
    currentFilter = currentGenre + ' 전체';
    drawTable(songs.filter(s => s.category.startsWith(currentGenre)));
  };
  cont.appendChild(allBtn);

  const initials = currentGenre.includes('Pop') ? engInitials : korInitials;
  initials.forEach(init => {
    const b = document.createElement('button');
    b.className = 'btn-circle';
    b.textContent = init;
    b.onclick = () => {
      currentFilter = currentGenre + ' ' + init;
      drawTable(songs.filter(s => s.category === currentFilter));
    };
    cont.appendChild(b);
  });
}

function drawTable(list){
  const msg = document.getElementById('searchResultsMessage');
  const tbl = document.getElementById('songsTableContainer');
  tbl.innerHTML = '';
  msg.textContent = '';
  if (list.length === 0) {
    msg.textContent = '검색 결과가 없습니다. 추천 곡은 디스코드 노래 추천방에 적어주세요.';
    return;
  }
  const table = document.createElement('table');
  const thead = table.createTHead();
  const headRow = thead.insertRow();
  ['제목','가수','코드','난이도','숙련도'].forEach(text => {
    const th = document.createElement('th');
    th.textContent = text;
    headRow.appendChild(th);
  });
  const tbody = table.createTBody();
  list.forEach(item => {
    const row = tbody.insertRow();
    ['title','singer','code','difficulty','skill'].forEach(key => {
      const td = row.insertCell();
      td.textContent = item[key];
    });
  });
  tbl.appendChild(table);
}

function searchSongs(){
  const kw = document.getElementById('search').value.trim().toLowerCase();
  const res = songs.filter(s => s.title.toLowerCase().includes(kw) || s.singer.toLowerCase().includes(kw));
  document.getElementById('노래책 설명서').style.display = 'none';
  document.getElementById('가격표').style.display = 'none';
  document.getElementById('buttonsContainer').innerHTML = '';
  drawTable(res);
}

window.onload = resetToDefault;
</script>

</body>
</html>
